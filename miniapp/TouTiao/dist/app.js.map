require("common/manifest.js.map")
require("common/vendor.js.map")
{"version":3,"sources":["webpack:///./src/data/api.ts","webpack:///./src/data/index.ts","webpack:///./src/store/index.js","webpack:///./src/App.vue","webpack:///./src/app.ts","webpack:///./src/main.ts","webpack:///./src/store/modules/detail.js","webpack:///./src/store/modules/index.js","webpack:///./src/utils/index.js","webpack:///./src/App.vue?0593"],"names":["fly","Fly","cookies","HOST","interceptors","request","use","headers","map","v","k","join","console","log","body","response","url","indexOf","hcks","forEach","ck","split","data","err","postForm","method","wxApiToPromise","api","arg1","resolve","reject","opt","merge","success","r","fail","e","Api","login","wx","then","res","code","testForm","a","getSetting","getNewsList","getDetailList","id","getCommentList","page","count","Vue","Vuex","Store","modules","index","detail","plugins","createLogger","isApp","MyApp","Component","registerHooks","config","productionTip","prototype","$store","store","require","default","app","$mount","state","content","info","comment","comment_count","current","mutations","updateState","actions","commit","formatComment","item","create_time","formatTime","Date","namespaced","channels","currentUrl","newsList","hot_time","updateChannels","updateCurrentUrl","updateNewsList","behot_time","sort","b","appendNewsList","length","removeNews","findIndex","item_id","splice","appUrl","JSON","parse","getMore","formatNumber","n","str","toString","date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","t1","t2"],"mappings":"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","file":"app.js","sourcesContent":["import Fly from \"flyio/dist/npm/wx\";\r\nimport { map, merge } from 'lodash';\r\nexport let fly = new Fly;\r\nlet cookies = {};\r\nconst HOST = 'https://127.0.0.1'; // 更改\r\n//添加请求拦截器\r\nfly.interceptors.request.use((request) => {\r\n    //给所有请求添加自定义header\r\n    request.headers[\"Cookie\"] = map(cookies, (v, k) => k + '=' + v).join(';');\r\n    //打印出请求体\r\n    console.log(request.body);\r\n    //终止请求\r\n    //var err=new Error(\"xxx\")\r\n    //err.request=request\r\n    //return Promise.reject(new Error(\"\"))\r\n    //可以显式返回request, 也可以不返回，没有返回值时拦截器中默认返回request\r\n    return request;\r\n});\r\n//添加响应拦截器，响应拦截器会在then/catch处理之前执行\r\nfly.interceptors.response.use((response) => {\r\n    if (response.request.url.indexOf(HOST) == 0) {\r\n        let hcks = response.headers['set-cookie'] || response.headers['Set-Cookie'];\r\n        if (hcks != null) {\r\n            hcks.forEach(v => {\r\n                let ck = v.split(';')[0].split('=');\r\n                cookies[ck[0]] = ck[1];\r\n            });\r\n        }\r\n    }\r\n    //只将请求结果的data字段返回\r\n    return response.data;\r\n}, (err) => {\r\n    //发生网络错误后会走到这里\r\n    //return Promise.resolve(\"ssss\")\r\n});\r\nfunction postForm(url, data) {\r\n    return fly.request(url, data, {\r\n        method: 'post',\r\n        headers: { 'content-type': 'application/x-www-form-urlencoded' },\r\n    });\r\n}\r\nfunction wxApiToPromise(api, arg1) {\r\n    return new Promise((resolve, reject) => {\r\n        let opt = merge({\r\n            success(r) {\r\n                resolve(r);\r\n            },\r\n            fail(e) {\r\n                reject(e);\r\n            }\r\n        }, arg1);\r\n        api(opt);\r\n    });\r\n}\r\nconst Api = {\r\n    login() {\r\n        return wxApiToPromise(wx.login, {}).then(res => {\r\n            console.log(res.code);\r\n            return res;\r\n        });\r\n    },\r\n    testForm() {\r\n        return postForm(HOST, { a: 1 });\r\n    }\r\n};\r\nexport default Api;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/api.ts","import { fly } from \"./api\";\r\nexport let getSetting = () => {\r\n    return fly.request('https://m.toutiao.com/pwa/api/wxapp/settings/?extra=9PS4Lq6mY%2FZrv6vuAn425pm0R7GQW8IezyXcUAVKvEYOqPityCrgZqCgBIs2PwMJvvdLRE5IHaNgVpgO%2BTWJ6rDi%2FcysD6rD7XGXtvhJLKitFv9I3XESm5gmgKUMRWtyTUY2mc1P1licWBVl2s6O%2FLh43RhfXHmRtz6%2FEQp3ZsEMGBI3NhpHSdU0jzd4gaTUJOJ0ZIUSq61w4GNX%2BAAJCpyfoVNBRyfICcWXIGg5H%2FNV1qsjpEgFIrOdyvM%2BolhU5zKdtfTHfSoUCmRXDQSIWUlReTQhf0eHgPt0Ga4zicsIZulUtUdiGAXOVPLZJm8dNovFFssIIlmulovcYO3TmFXBclsQF8MTfr%2F0fnvaeeP96R1jblUNd2lvSaXxxn%2F0iHf%2F0Xz%2BLx1rWux1zPnidVNhfwCX6P%2FgdhD4IszaqZSWWxU1t86%2FOmcyfA8Cp9hJJQrQ4Sz6Tt%2Bb77RV5SVlh235B4R6wXEZbI3jX08VBxW%2FNg33nAxKMxBFy7I653YclxrBm0O4ScfV5nXtI%2BlnBj3RTQnVK57Xr%2BbC8Ph1WW42OQszNCs5DHJQL%2FVbVs8N2ER9oX1O%2B5bxQVDMznA%2FmhLQbzh7%2BUyYaYpJL1XVGQSmzbSIU7ZwJ%2Fm60hzksXcCefLX9ka7iNdKj2I3DyABxzYvA4fseqMBzEQoIEriQekcUKdeM6ZTZ3oRBtptl9gluHjdGF9ceZG3Pr8RCndmwRApLOjgRFIZEbd2aVqk839G9vcqj34%2BqTjd1cj5SgeR%2B9D5YZFgqgiC%2BOSH02CW0EOnRzWPb9rU2%2B9eYAPrYR%2FN3QZ1lc2epuJy7UysXELgCjDI8tQHYl%2FoGc2ChQ6qEnPyZQgy9Pn7ZGij6dkrLac9HCM7QD3NkB1qrXs92HDvANBjvNUaCIyrCGZZE4jDNGi3%2FSFlkF5D3U7gieNw3ag6V7VHYdHqRKfHbyp8Upkm');\r\n};\r\nexport let getNewsList = (url) => {\r\n    // console.log(url);\r\n    return fly.request(url);\r\n};\r\nexport let getDetailList = (id) => {\r\n    // console.log('id...', id);\r\n    return fly.request(`https://m.toutiao.com/pwa/api/wxapp/info/${id}/`);\r\n};\r\nexport let getCommentList = (id, page = 1, count = 10) => {\r\n    // console.log('id...', id);\r\n    return fly.request(`https://ib.snssdk.com/article/v1/tab_comments/?group_id=${id}&&tab_index=0&count=${count}&offset=${(page - 1) * count}`);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/index.ts","import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\nimport createLogger from \"vuex/dist/logger\";\r\n\r\nimport index from \"./modules/index\";\r\nimport detail from \"./modules/detail\";\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n  modules: {\r\n    index,\r\n    detail\r\n  },\r\n  plugins: [createLogger()]\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../node_modules/_mpvue-loader@1.1.4@mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-00b4c1e6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!../node_modules/_mpvue-loader@1.1.4@mpvue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_mpvue-loader@1.1.4@mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!awesome-typescript-loader?{\\\"useCache\\\":true}!./app.ts\"/* template */\nvar __vue_template__ = null\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\App.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-00b4c1e6\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-00b4c1e6\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 80\n// module chunks = 1","import { Vue, Component } from 'vue-property-decorator'\r\nimport Api from '@/data/api'\r\nconst debug = require('debug')('log:App')\r\n\r\ndeclare module \"vue/types/vue\" {\r\n  interface Vue {\r\n    $mp: any;\r\n  }\r\n}\r\n\r\n// 必须使用装饰器的方式来指定components\r\n@Component({\r\n  mpType: 'app', // mpvue特定\r\n} as any)\r\nclass App extends Vue {\r\n  // app hook\r\n  onLaunch() {\r\n    let opt = this.$root.$mp.appOptions\r\n    debug('onLaunch', opt)\r\n    Api.login().then(res => {\r\n      debug('login', res)\r\n    })\r\n  }\r\n\r\n  onShow() {\r\n    debug('onShow')\r\n  }\r\n\r\n  onHide() {\r\n    debug('onHide')\r\n  }\r\n\r\n  mounted() { // vue hook\r\n    debug('mounted')\r\n  }\r\n}\r\n\r\nexport default App\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.ts","import { Component, Vue } from 'vue-property-decorator';\r\nimport store from \"@/store/index\";\r\nlet isApp = false; //尝试mpvue-entry\r\nlet MyApp;\r\n/* app-only-begin */\r\nisApp = true;\r\n// 添加小程序hooks http://mpvue.com/mpvue/#_4\r\nComponent.registerHooks([\r\n    // app\r\n    'onLaunch',\r\n    'onShow',\r\n    'onHide',\r\n    // pages\r\n    'onLoad',\r\n    'onShow',\r\n    'onReady',\r\n    'onHide',\r\n    'onUnload',\r\n    'onPullDownRefresh',\r\n    'onReachBottom',\r\n    'onShareAppMessage',\r\n    'onPageScroll',\r\n    'onTabItemTap',\r\n]);\r\nVue.config.productionTip = false;\r\nVue.prototype.$store = store;\r\n/* app-only-end */\r\nif (isApp) {\r\n    // 在这个地方引入是为了registerHooks先执行\r\n    MyApp = require('./App.vue').default;\r\n}\r\nelse {\r\n    // MyApp = require('./index.vue')\r\n}\r\nconst app = new Vue(MyApp);\r\napp.$mount();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { getDetailList, getCommentList } from '@/data/index'\r\nimport { formatTime } from \"@/utils/index\"\r\n\r\nconst state = {\r\n  content: [],\r\n  info: {},\r\n  comment: [],\r\n  comment_count: 0,\r\n  current: 1\r\n}\r\n\r\nconst mutations = {\r\n  updateState(state, info) {\r\n    state = Object.assign(state, info);\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  async getDetailList({ commit }, id) {\r\n    let res = await getDetailList(id);\r\n    // console.log(res)\r\n    commit('updateState', {\r\n      comment_count: res.data.comment_count,\r\n      content: res.data.content,\r\n      info: res.data\r\n    })\r\n  },\r\n  async getCommentList({ commit, state }, { id, page }) {\r\n    console.log('id...page', id, page)\r\n    let res = await getCommentList(id, page);\r\n    console.log('comment...', res)\r\n    let formatComment = res.data.map(item => {\r\n      if (typeof item.comment.create_time == 'string') {\r\n        return item\r\n      } else {\r\n        item.comment.create_time = formatTime(new Date(item.comment.create_time * 1000));\r\n        return item\r\n      }\r\n    })\r\n    console.log('formatComment', formatComment)\r\n    commit('updateState', {\r\n      comment: page == 1 ? formatComment : [...state.comment, ...formatComment]\r\n    })\r\n    console.log('...state', state.comment)\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/detail.js","import { getSetting, getNewsList } from \"@/data/index\";\r\n\r\nconst state = {\r\n  channels: [],\r\n  currentUrl: '',\r\n  newsList: [],\r\n  hot_time: ''\r\n}\r\n\r\nconst mutations = {\r\n  updateChannels(state, channels) {\r\n    state.channels = channels;\r\n  },\r\n  updateCurrentUrl(state, currentUrl) {\r\n    state.currentUrl = currentUrl;\r\n  },\r\n  updateNewsList(state, newsList) {\r\n    state.newsList = newsList;\r\n    state.hot_time = newsList.map(item => {\r\n      return item.behot_time;\r\n    }).sort((a, b) => b - a)[0];\r\n  },\r\n  appendNewsList(state, newsList) {\r\n    state.newsList = [...state.newsList, ...newsList];\r\n    console.log(state.newsList.length);\r\n    state.hot_time = newsList.map(item => {\r\n      return item.behot_time;\r\n    }).sort((a, b) => b - a)[0];\r\n  },\r\n  removeNews(state, id) {\r\n    let index = state.newsList.findIndex(item => {\r\n      return item.item_id == id;\r\n    })\r\n    state.newsList.splice(index, 1);\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  async getSetting({ commit }) {\r\n    let channels = await getSetting();\r\n    // console.log('channels...', channels)\r\n    commit('updateCurrentUrl', channels.channels[0][0].appUrl)\r\n    commit('updateChannels', channels.channels[0])\r\n  },\r\n  async getNewsList({ commit }, url) {\r\n    // console.log('currentUrl', url);\r\n    let res = await getNewsList(url);\r\n    // console.log('res...', res.data)\r\n    let newsList = res.data.map(item => {\r\n      return JSON.parse(item.content)\r\n    })\r\n    console.log('newsList...', newsList)\r\n    commit('updateCurrentUrl', url)\r\n    commit('updateNewsList', newsList)\r\n  },\r\n  async getMore({ commit, state }, url) {\r\n    url += `&max_behot_time=${state.hot_time}`\r\n    let res = await getNewsList(url);\r\n    let newsList = res.data.map(item => {\r\n      return JSON.parse(item.content)\r\n    })\r\n    commit('appendNewsList', newsList);\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/index.js","function formatNumber(n) {\r\n  const str = n.toString()\r\n  return str[1] ? str : `0${str}`\r\n}\r\n\r\nexport function formatTime(date) {\r\n  const year = date.getFullYear()\r\n  const month = date.getMonth() + 1\r\n  const day = date.getDate()\r\n\r\n  const hour = date.getHours()\r\n  const minute = date.getMinutes()\r\n  const second = date.getSeconds()\r\n\r\n  const t1 = [month, day].map(formatNumber).join('-')\r\n  const t2 = [hour, minute].map(formatNumber).join(':')\r\n\r\n  return `${t1} ${t2}`\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.1.2@vue-style-loader!./~/_css-loader@0.28.11@css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/_mpvue-loader@1.1.4@mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-00b4c1e6\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_px2rpx-loader@0.1.10@px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./~/_postcss-loader@2.1.6@postcss-loader/lib?{\"sourceMap\":true}!./~/_mpvue-loader@1.1.4@mpvue-loader/lib/selector.js?type=styles&index=0!./src/App.vue\n// module id = 93\n// module chunks = 1"],"sourceRoot":""}